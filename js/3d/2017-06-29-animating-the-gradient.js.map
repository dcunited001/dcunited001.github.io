{"version":3,"sources":["webpack:///webpack/bootstrap 3cc127391a1c0770ca5f","webpack:///./es6/main.js","webpack:///../lib/MipReducer.js","webpack:///../lib/Quad.js","webpack:///../lib/LinePlot.js","webpack:///../lib/util/index.js","webpack:///../lib/util/platform.js","webpack:///../lib/util/audio.js"],"names":["createShader","gl","source","type","shader","shaderSource","compileShader","window","createProgram","vertexShaderSource","fragmentShaderSource","options","defines","shaderPrefix","precisionPrefix","expandDefines","program","vshader","VERTEX_SHADER","fshader","FRAGMENT_SHADER","attachShader","deleteShader","beforeLink","linkProgram","log","getProgramInfoLog","console","getShaderInfoLog","defineStrings","keys","undefined","k","Object","runWebGL","updateTime","lastFrameStart","currentTime","Date","now","elapsedTime","startTime","lastFrameTime","simulationTime","paused","updateDeltaT","dt","newDeltaT","vec4","fromValues","generateFloat32Randoms","w","h","n","max","min","randoms","Float32Array","range","mid","i","Math","random","generateInt32Randoms","Int32Array","trunc","UINT32_MAX","INT32_MAX","generateParticleIndices","indices","makeIntRandomUniforms","RenderPass","constructor","_program","_uniformLocations","_options","uniformLocations","setUniformLocations","context","getUniformLocation","encode","uniforms","ops","assign","useProgram","beforeEncode","encodeUniforms","encodeTextures","encodeClear","checkFboStatus","encodeDraw","afterEncode","cleanupEncode","c","error","bindBuffer","ARRAY_BUFFER","bindVertexArray","bindFramebuffer","DRAW_FRAMEBUFFER","status","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","toString","PingPongProvider","_current","_textures","_framebuffers","_max","initFramebuffers","fboConfig","newFbo","createFramebuffer","framebufferTexture2D","colorAttachment","TEXTURE_2D","getNext","push","increment","registerTextures","texturesOrMonoid","getTexture","args","textures","Array","getCurrent","id","getCurrentId","getNextId","getPrev","getPrevId","getCurrentFbo","canvas","document","getElementById","style","width","height","offsetWidth","getContext","antialias","colorBufferFloatExt","getExtension","isWebGL2","innerHTML","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","DEPTH_TEST","depthFunc","LESS","programParticles","textContent","programForceSplat","programFields","programGradients","programRenderFields","programLinePlotTransform","varyings","transformFeedbackVaryings","INTERLEAVED_ATTRIBS","programLinePlot","PARTICLE_MAX","parseInt","PARTICLE_WIDTH","particleResolution","vec2","renderResolution","drawingBufferWidth","drawingBufferHeight","particleIdx","particleIdxBuffer","createBuffer","bufferData","STATIC_DRAW","particleVertexArray","createVertexArray","particleIdxIndex","vertexAttribIPointer","INT","enableVertexAttribArray","particlePonger","particleRandomsAttachments","particleAttachments","particleMomentums","particleForces","map","f","activeTexture","TEXTURE0","tex","createTexture","bindTexture","texStorage2D","RGBA32I","texSubImage2D","RGBA_INTEGER","RGBA32F","RGBA","FLOAT","particleFboConfig","particleRandoms","COLOR_ATTACHMENT0","particles","COLOR_ATTACHMENT1","COLOR_ATTACHMENT2","COLOR_ATTACHMENT3","forceSplatTexture","forceSplatFbo","clearColor","clear","COLOR_BUFFER_BIT","fieldPonger","fieldRForceAttachments","fieldRForceGradientAttachments","fieldPongerFboConfig","repelField","repelFieldGradient","gradientPonger","gradientRForceAttachments","gradientPongerFboConfig","samplerNearest","createSampler","samplerParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","rpParticles","framebuffer","ONE","ZERO","viewport","resolution","uniform2fv","u_resolution","u_fieldResolution","fieldResolution","uniform4iv","u_randomSeed","randomSeed","uniform1f","u_particleSpeed","particleSpeed","uniform4fv","u_deltaTime","deltaTime","uniform1i","u_physicsMethod","physicsMethod","u_spaceType","spaceType","s_particleRandoms","s_particles","s_particleMomentums","s_particleForceSplat","s_repelField","bindSampler","TEXTURE1","TEXTURE2","TEXTURE3","particleForceSplat","TEXTURE4","drawBuffers","anyQuad","vertexArray","drawArrays","TRIANGLES","rpForceSplat","u_rCoefficient","rCoefficient","u_particleIdLimit","particleIdLimit","particleCount","particleUv","uniform2iv","u_particleUv","rpFields","u_fieldSize","fieldSize","u_fieldMinFactor","fieldMinFactor","u_deferGradientCalc","deferGradientCalc","u_circularFieldEffect","circularFieldEffect","u_forceCalcInGlPointSpace","forceCalcInGlPointSpace","POINTS","rpGradients","rpRenderFields","u_fractRenderValues","fractRenderValues","u_renderMagnitude","renderMagnitude","u_scaleRenderValues","scaleRenderValues","u_maxFieldLines","maxFieldLines","u_renderTexture","renderTexture","u_audioColorShiftEnabled","audioColorShiftEnabled","uniform3fv","u_audioColorShift","audioColorShift","s_repelFieldGradient","mipReducerMomentumSum","defaultValue","internalFormat","init","calc","write","mipReducerMomentumMinMax","Number","MAX_VALUE","MIN_VALUE","mipReducer","configure","MicrophoneInput","_loaded","_sampleRate","_isLive","_waveformSum","_waveformSumMax","_gain","initMic","audioContext","cb","_context","navigator","mediaDevices","getUserMedia","audio","then","catch","initMicError","initMicGraph","stream","micInput","createMediaStreamSource","scriptProcessor","createScriptProcessor","thisMic","onaudioprocess","event","inputData","inputBuffer","getChannelData","waveformSum","abs","updateMicUniform","connect","destination","e","getColorShift","rPeriod","gPeriod","bPeriod","vec3","enableControls","enabledCheckbox","checked","enabled","AudioContext","mic","activateMic","setTimeout","isLive","className","numDataPoints","hexColorToVec4","hex","substr","bsPrimary","bsSuccess","bsInfo","bsWarning","bsDanger","linePlots","momentum","plot","transformProgram","lineColor","lineWidth","value","dynamic","expiresAfter","buttonClass","force","fps","physicsMethods","brownian","splat","field","spaceTypes","finite","wrapped","infinite","resetParticles","resetParticlesWith","setResetParticles","setResetParticlesWith","particleResetVectorFields","x","y","zero","outward","inward","audioColorShiftGain","getUIElemements","ui","scaleForceToSpace","gain","r","g","b","getElementsByName","togglePlot","uiControlUpdate","renderTextureRadios","reduce","a","physicsMethodRadios","spaceTypeRadios","togglePause","pauseButton","configProfiles","defaults","forEach","el","parentElement","classList","remove","add","randomFactor","randomBoolean","chance","randomDataToggle","elemSet","pSet","rand","length","activateProfile","uiElements","framecount","lastAggregateTime","deltaT","debugPixels","renderDebugTexture","pixels","debugTexture","render","newPositions","newParticleMomentums","set","forceSplatUniforms","particleUniforms","fieldsUniforms","gradientTexture","gradientsUniforms","renderFieldsUniforms","renderFieldsOptions","reducedAggregates","MomentumSum","MomentumMinMax","quad","instantaneousFps","averageMomentum","innerText","encodeTransform","requestAnimationFrame","onload","AniPlatform","fixCanvasUIBar"],"mappings":"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